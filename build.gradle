buildscript {
	ext.kotlinVersion = '1.3.72'
	ext.junitVersion = '5.6.2'
	ext.apacheHttpClientVersion = '4.5.12'
	ext.assertjVersion = '3.11.1'
	ext.gsonVersion = '2.8.6'
	ext.jaksonVersion = '2.11.0'
	ext.commonsCliVersion = '1.4'
	ext.freemarkerVersion = '2.3.30'
}

buildscript {
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
	}
}

allprojects {
	apply plugin: 'java'
	apply plugin: "maven-publish"

	group = 'com.ecwid.upsource-rpc'
	version = '0.9.2'
}

subprojects {
	apply from: "$rootDir/gradle/kotlin.gradle"
	apply from: "$rootDir/gradle/testing.gradle"

	repositories {
		mavenCentral()
	}

	dependencies {
	}

	publishing {
		repositories {
			maven {
				name = 'GitHubPackages'
				url = "https://maven.pkg.github.com/turchenkoalex/upsource-rpc"
				credentials() {
					username = System.getenv("GITHUB_ACTOR")
					password = System.getenv("GITHUB_TOKEN")
				}
			}
		}
	}

}
